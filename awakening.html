<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./awakening.css">
  <title>awakening</title>
</head>
<body class="main__wrapper">
  <div class="header">
    <img src="./images/awakening_banner.png" alt="Лого Пробуждения" class="header__image">
  </div>
  <div class="info">
    <div class="information">
      <div class="info__wrapper info__wrapper_name_fio">
        <label class="info__label">ФИО
        </label>
        <input type="text" name="attr_name"  class="info__input info__input_type_information-fio"></input>
      </div>
      <div class="info__wrapper info__wrapper_name_level">
        <label class="info__label">Уровень
        </label>
        <input type="number" name="attr_level" class="info__input info__input_type_information-numbers">
      </div>
      <div class="info__wrapper info__wrapper_name_age">
        <label class="info__label">Возраст
        </label>
        <input type="number" name="attr_age" class="info__input info__input_type_information-numbers">
      </div>
      <div class="info__wrapper info__wrapper_name_background">
        <label class="info__label" class="info__label ">Прошлое
        </label>
        <input type="text" name="attr_back" class="info__input info__input_type_information-background">
      </div>
      <div class="info__wrapper info__wrapper_name_rank">
        <label class="info__label">Звание
        </label>
        <select name="attr_rang" class="info__selects info__selects_type_rank">
          <option value="-1" selected="selected">Рядовой</option>
          <option value="0">Командир группы</option>
          <option value="1">Сержант</option>
          <option value="2">Лейтенант</option>
          <option value="3">Капитан</option>
        </select>
      </div>
      <div class="info__wrapper info__wrapper_name_rank">
        <label class="info__label">Соц.группа
        </label>
        <select name="attr_grup" class="info__selects info__selects_type_grup">
          <option value="0">Без группы</option>
          <option value="1">Механик-водитель</option>
          <option value="2">Кадровый военный</option>
          <option value="3">Милиционер</option>
          <option value="4">Колхозник-аграрий</option>
          <option value="5">Городской трудяга</option>
          <option value="6">Молодой учёный</option>
          <option value="7">Практикующий медик</option>
          <option value="8">Квалифицированный инженер</option>
          <option value="9">Работник культуры</option>
          <option value="10">Профессиональный спортсмен</option>
          <option value="11">Партийный чиновник</option>
          <option value="12">Работник лесохозяйства</option>
        </select>
      </div>
    </div>
  </div>
  <div class="char-interface">
    <div class="attribute">
      <div class="attribute__wrapper">
        <button type='roll' name='attr_rollstr' class="button button__attribute button__attribute_str" 
        value="&{template:customcheck} {{name=@{name}}} {{naming_attr=КРЕПОСТЬ}} {{check=[[@{str}]]}} {{result=[[1d20]]}}">Крепость
        </button>
       <input type="number" name="attr_str" class="attribute__input">
       <div class="attribute__button-wrapper">
          <button type='roll' name='attr_rollstradv' class="button button__advantage" 
          value="&{template:customcheck} {{name=@{name}}} {{naming_attr=КРЕПОСТЬ с преимуществом}} {{check=[[@{str}]]}} {{result=[[2d20kl1]]}}">
          +</button>
          <button type='roll' name='attr_rollstrdis' class="button button__disadvantage "
            value="&{template:customcheck} {{name=@{name}}} {{naming_attr=КРЕПОСТЬ с осложнением}} {{check=[[@{str}]]}} {{result=[[2d20kh1]]}}">
          -</button>
        </div>
      </div>
      <div class="attribute__wrapper">
        <button type='roll' name='attr_rolldex' class="button button__attribute button__attribute_agil" 
        value="&{template:customcheck} {{name=@{name}}} {{naming_attr=ЛОВКОСТЬ}} {{check=[[@{dex}]]}} {{result=[[1d20]]}}">Ловкость
        </button>
        <input type="number" name="attr_dex" class="attribute__input">
        <div class="attribute__button-wrapper">
        <button type='roll' name='attr_rolldexadv' class="button button__advantage"
          value="&{template:customcheck} {{name=@{name}}} {{naming_attr=ЛОВКОСТЬ с преимуществом}} {{check=[[@{dex}]]}} {{result=[[2d20kl1]]}}">
          +</button>
          <button type='roll' name='attr_rollstrdis' class="button button__disadvantage"
            value="&{template:customcheck} {{name=@{name}}} {{naming_attr=ЛОВКОСТЬ с осложнением}} {{check=[[@{dex}]]}} {{result=[[2d20kh1]]}}">
          -</button>
        </div> 
      </div>
      <div class="attribute__wrapper">
        <button type='roll' name='attr_rollint' class="button  button__attribute button__attribute_int" 
        value="&{template:customcheck} {{name=@{name}}} {{naming_attr=ИНТЕЛЛЕКТ}} {{check=[[@{int}]]}} {{result=[[1d20]]}}">Интеллект
        </button>
        <input type="number" name="attr_int" class="attribute__input">
        <div class="attribute__button-wrapper">
          <button type='roll' name='attr_rollintadv' class="button button__advantage"
          value="&{template:customcheck} {{name=@{name}}} {{naming_attr=ИНТЕЛЛЕКТ с преимуществом}} {{check=[[@{int}]]}} {{result=[[2d20kl1]]}}">
          +</button>
          <button type='roll' name='attr_rollintdis' class="button button__disadvantage"
          value="&{template:customcheck} {{name=@{name}}} {{naming_attr=ИНТЕЛЛЕКТ с осложнением}} {{check=[[@{int}]]}} {{result=[[2d20kh1]]}}">
          -</button>
        </div>
      </div>
      <div class="attribute__wrapper">
        <button type='roll' name='init_attrs_roll' class="button button__attribute button__attribute_init-char"
                value="&{template:init} {{name=@{name}}} {{str-init=[[3d6kl1+10]]}} {{dex-init=[[3d6kl1+10]]}} {{int-init=[[3d6kl1+10]]}} {{hp-init=[[1d8+2]]}} {{talon-init=[[2d6*10]]}}">
            Стартовые аттрибуты</button>
      </div>
    </div>
    <div class="char-features">
      <div class="char-feature char-feature_type_health">
        <label class="char-feature__title">
          ПП
        </label>
        <div class="char-features__input-wrapper">
          <label class="char-feature__label">
            Текущие
          </label>
          <input type="number" class="char-feature__input" name="attr_chp">
        </div>
        <div class="char-features__input-wrapper">
          <label class="char-feature__label">
            Максимум
          </label>
          <input type="number" class="char-feature__input" name="attr_mhp">
        </div>
        <button type='roll' class="char-feature__button" name='healing_roll'
        value="&{template:healing} {{name=@{name}}} {{result=[[1d8+@{level}]]}}">
          Лечение</button>
        <button type='roll' class="char-feature__button" name='hp_level_roll'
          value="&{template:hplevel} {{name=@{name}}} {{result=[[1d8]]}}">
          Уровень</button>
      </div>
      <div class="char-feature char-feature_type_battle">
        <label class="char-feature__title"">ТТХ
        </label>
        <button type='roll' class="char-feature__button" name='rank_init_roll'
          value="&{template:rankinit} {{name=@{name}}} {{result=[[1d6+@{rank}]]}}">
          Инициатива</button>
        <div class="char-features__input-wrapper">
          <label class="char-feature__label">
            Защита
          </label>
          <input type="number" class="char-feature__input"  name="attr_ac">
        </div>
        <div class="char-feature__button-wrapper">
        <button type='roll' name="sheet-rank_def_meele_roll" class="char-feature__button char-feature__button_half"
          value="&{template:defense} {{name=@{name}}} {{naming_attr=защищается в рукопашной}} {{check=[[@{str}]]}} {{result=[[1d20]]}}">
          Оборона</button>
        <button type='roll' name="sheet-rank_def_fire_roll" class="char-feature__button char-feature__button_half"
          value="&{template:defense} {{name=@{name}}} {{naming_attr=маневрирует и уклоняется}} {{check=[[@{dex}]]}} {{result=[[1d20]]}}">
          Маневр</button>
        </div>
        <button type='roll' name="sheet-rank_death_roll" class="char-feature__button"
          value="&{template:death} {{name=@{name}}} {{result=[[1d6]]}} {{alive=[[1d4]]}} {{unconscious=[[3d6]]}} {{shocked=[[1d6]]}} {{broken=[[1d6+2]]}}">
          Выбывание</button>
      </div>
      <div class="char-feature char-feature_type_money">
        <label class="char-feature__title">АХЧ
        </label>
        <div class="char-features__input-wrapper">
          <label class="char-feature__label">
            Талоны
          </label>
          <input type="number" class="char-feature__input" name="attr_tal">
          </div>
          <button type='roll' name="sheet-mass_order_roll" class="char-feature__button"
            value="&{template:massorder} {{name=@{name}}} {{price=[[1d6*10]]}}">
            Массовое</button>
          <button type='roll' name="sheet-uniq_order_roll" class="char-feature__button"
            value="&{template:uniqorder} {{name=@{name}}} {{price=[[3d6*10]]}} {{time=[[1d6]]}}">
            Заказное</button>
          <button type='roll' name="sheet-problem_order_roll" class="char-feature__button"
            value="&{template:problemorder} {{name=@{name}}} {{price=[[6d6*10]]}} {{time=[[3d6]]}}">
            Проблемное</button>
      </div>
    </div>
  </div>
<rolltemplate class="sheet-rolltemplate-customcheck">
  <div><span class="sheet-rolltemplate-customcheck__bold">{{name}}</span>проверяет {{naming_attr}}</div>
  <div>{{result}} vs {{check}}</div>{{#rollTotal() result check}}
  <div><span class="sheet-rolltemplate-customcheck__bold">ПРОВАЛ</span></div>
  {{/rollTotal() result check}} {{#rollLess() result check}}
  <div><span class="sheet-rolltemplate-customcheck__bold">УСПЕХ</span></div>
  {{/rollLess() result check}} {{#rollGreater() result check}}
  <div><span class="sheet-rolltemplate-customcheck__bold">ПРОВАЛ</span></div>
  {{/rollGreater() result check}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-init">
  <div>{{name}} определяет стартовые аттрибуты:</div>
  <div>Крепость: {{str-init}}</div>
  <div>Ловкость: {{dex-init}}</div>
  <div>Интеллект: {{int-init}}</div>
  <div>Пункты прочности: {{hp-init}}</div>
  <div>Талоны: {{talon-init}}</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-healing">
  <div>{{name}} восстаналивает {{result}} ПП.</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-hplevel">
  <div>{{name}} получает {{result}} ПП.</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-defense">
  <div>{{name}} {{naming_attr}}.</div>
  <div>{{result}} vs {{check}}</div>
  {{#rollWasCrit() result}}
  <div>Критический провал: броня теряет 1 единицу прочности, урон удваивается!</div>
  {{/rollWasCrit() result}}
  {{#^rollWasCrit() result}}
  {{#rollTotal() result check}}
  <div class="rollresult rollfail">ПРОВАЛ</div>
  {{/rollTotal() result check}}
  {{#rollLess() result check}}
  <div class="rollresult rollsuccess">УСПЕХ</div>
  {{/rollLess() result check}}
  {{#rollGreater() result check}}
  <div class="rollresult rollfail">ПРОВАЛ</div>
  {{/rollGreater() result check}}
  {{/^rollWasCrit() result}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-death">
  <div>{{name}} выбывает. Причина:</div>
  {{#rollTotal() result 1}}
  <div><b>Вырубился</b> — потеря сознания на {{unconscious}} часов.</div>
  <div>Вернется в строй с {{alive}} ПП.</div>
  {{/rollTotal() result 1}}
  {{#rollTotal() result 2}}
  <div><b>Контужен</b> — осложнения для всех проверок на {{shocked}} часов</div>
  <div>Вернется в строй с {{alive}} ПП.</div>
  {{/rollTotal() result 2}}
  {{#rollTotal() result 3}}
  <div><b>Помят</b> — сила, ловкость и выносливость понижены на 2 пункта до завтрашнего дня.</div>
  <div>Вернется в строй с {{alive}} ПП.</div>
  {{/rollTotal() result 3}}
  {{#rollTotal() result 4}}
  <div><b>Искалечен</b> — сила или ловкость (на выбор ведущей) уменьшаются на 2 пункта.</div>
  <div>Вернется в строй с {{alive}} ПП.</div>
  {{/rollTotal() result 4}}
  {{#rollTotal() result 5}}
  <div><b>Сломлен</b> — воля уменьшается на {{broken}} пунктов.</div>
  <div>Вернется в строй с {{alive}} ПП.</div>
  {{/rollTotal() result 5}}
  {{#rollTotal() result 6}}
  <div><b>Помер</b> — покинул мир живых.</div>
  {{/rollTotal() result 6}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-massorder">
  <div>Товар может быть куплен на месте в любое время за {{price}} талонов.</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-uniqorder">
  <div>Товар приобретается за {{time}} дней, изготавливается в индивидуальном порядке и обходится в {{price}}
      талонов.
  </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-problemorder">
  <div>Товар можно получить за {{time}} дней, его стоимость составит {{price}} талонов, а обладание им может вызвать
      вопросы у Администрации Бункера
  </div>
</rolltemplate>


</body>
</html>